# LargeFileReadBufferSizes

This benchmark compares sequential reads of a randomly generated 5 GB integer file while varying the read buffer size.




```

BenchmarkDotNet v0.15.2, Windows 11 (10.0.22631.6199/23H2/2023Update/SunValley3) (Hyper-V)
AMD EPYC 7763 2.44GHz, 1 CPU, 16 logical and 8 physical cores
.NET SDK 10.0.100
  [Host]    : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2
  .NET 10.0 : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2
  .NET 9.0  : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2


```
| Method           | Job       | Runtime   | BufferSizeBytes | Mean     | Error    | StdDev   | Median   | Ratio | RatioSD | Gen0      | Gen1      | Allocated     | Alloc Ratio |
|----------------- |---------- |---------- |---------------- |---------:|---------:|---------:|---------:|------:|--------:|----------:|----------:|--------------:|------------:|
| **ReadFileBuffered** | **.NET 10.0** | **.NET 10.0** | **4096**            | **22.615 s** | **0.0868 s** | **0.0725 s** | **22.622 s** |  **1.00** |    **0.00** |         **-** |         **-** |       **4.48 KB** |        **1.00** |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| ReadFileBuffered | .NET 9.0  | .NET 9.0  | 4096            |  7.208 s | 0.0275 s | 0.0257 s |  7.203 s |  1.00 |    0.00 |         - |         - |       4.48 KB |        1.00 |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| **ReadFileBuffered** | **.NET 10.0** | **.NET 10.0** | **1048576**         |  **4.149 s** | **0.0159 s** | **0.0149 s** |  **4.149 s** |  **1.00** |    **0.00** |         **-** |         **-** |    **1024.48 KB** |        **1.00** |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| ReadFileBuffered | .NET 9.0  | .NET 9.0  | 1048576         |  3.946 s | 0.0145 s | 0.0136 s |  3.944 s |  1.00 |    0.00 |         - |         - |    1024.48 KB |        1.00 |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| **ReadFileBuffered** | **.NET 10.0** | **.NET 10.0** | **16777216**        |  **4.039 s** | **0.0153 s** | **0.0127 s** |  **4.038 s** |  **1.00** |    **0.00** |         **-** |         **-** |   **16384.48 KB** |        **1.00** |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| ReadFileBuffered | .NET 9.0  | .NET 9.0  | 16777216        |  4.038 s | 0.0087 s | 0.0081 s |  4.038 s |  1.00 |    0.00 |         - |         - |   16384.48 KB |        1.00 |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| **ReadFileBuffered** | **.NET 10.0** | **.NET 10.0** | **25165824**        |  **4.057 s** | **0.0164 s** | **0.0153 s** |  **4.058 s** |  **1.00** |    **0.01** |         **-** |         **-** |   **32768.48 KB** |        **1.00** |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| ReadFileBuffered | .NET 9.0  | .NET 9.0  | 25165824        |  7.465 s | 0.3932 s | 1.1470 s |  7.951 s |  1.04 |    0.30 |         - |         - |   32768.48 KB |        1.00 |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| **ReadFileBuffered** | **.NET 10.0** | **.NET 10.0** | **1073741824**      |  **7.222 s** | **0.0344 s** | **0.0305 s** |  **7.226 s** |  **1.00** |    **0.01** | **1000.0000** | **1000.0000** | **1048576.48 KB** |        **1.00** |
|                  |           |           |                 |          |          |          |          |       |         |           |           |               |             |
| ReadFileBuffered | .NET 9.0  | .NET 9.0  | 1073741824      |  6.753 s | 0.1318 s | 0.1233 s |  6.765 s |  1.00 |    0.03 |         - |         - | 1048576.48 KB |        1.00 |
