# Concat vs Append String Arrays Benchmark

Compares different approaches for creating string arrays that combine a range of generated strings with additional fixed strings.



```

BenchmarkDotNet v0.15.2, Windows 11 (10.0.22631.6199/23H2/2023Update/SunValley3) (Hyper-V)
AMD EPYC 7763 2.44GHz, 1 CPU, 16 logical and 8 physical cores
.NET SDK 10.0.100
  [Host]    : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2
  .NET 10.0 : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2
  .NET 9.0  : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2


```
| Method              | Job       | Runtime   | Count | Mean      | Error     | StdDev    | Ratio | RatioSD | Gen0   | Gen1   | Allocated | Alloc Ratio |
|-------------------- |---------- |---------- |------ |----------:|----------:|----------:|------:|--------:|-------:|-------:|----------:|------------:|
| **UsingConcat**         | **.NET 10.0** | **.NET 10.0** | **100**   |  **3.505 μs** | **0.0218 μs** | **0.0182 μs** |  **1.00** |    **0.01** | **0.2594** |      **-** |   **4.25 KB** |        **1.00** |
| UsingAppend         | .NET 10.0 | .NET 10.0 | 100   |  3.012 μs | 0.0343 μs | 0.0321 μs |  0.86 |    0.01 | 0.2594 | 0.0038 |   4.24 KB |        1.00 |
| UsingListAdd        | .NET 10.0 | .NET 10.0 | 100   |  2.822 μs | 0.0273 μs | 0.0256 μs |  0.81 |    0.01 | 0.2937 | 0.0038 |    4.8 KB |        1.13 |
| UsingListAddRange   | .NET 10.0 | .NET 10.0 | 100   |  2.912 μs | 0.0391 μs | 0.0366 μs |  0.83 |    0.01 | 0.2975 |      - |   4.89 KB |        1.15 |
| UsingArrayWithIndex | .NET 10.0 | .NET 10.0 | 100   |  2.127 μs | 0.0395 μs | 0.0370 μs |  0.61 |    0.01 | 0.2403 |      - |   3.95 KB |        0.93 |
| UsingArrayCopyTo    | .NET 10.0 | .NET 10.0 | 100   |  2.219 μs | 0.0430 μs | 0.0442 μs |  0.63 |    0.01 | 0.2899 | 0.0038 |   4.76 KB |        1.12 |
| UsingSpanAndCopyTo  | .NET 10.0 | .NET 10.0 | 100   |  2.224 μs | 0.0430 μs | 0.0441 μs |  0.63 |    0.01 | 0.2403 |      - |   3.95 KB |        0.93 |
|                     |           |           |       |           |           |           |       |         |        |        |           |             |
| UsingConcat         | .NET 9.0  | .NET 9.0  | 100   |  3.493 μs | 0.0304 μs | 0.0254 μs |  1.00 |    0.01 | 0.2594 |      - |   4.25 KB |        1.00 |
| UsingAppend         | .NET 9.0  | .NET 9.0  | 100   |  3.008 μs | 0.0276 μs | 0.0244 μs |  0.86 |    0.01 | 0.2594 | 0.0038 |   4.24 KB |        1.00 |
| UsingListAdd        | .NET 9.0  | .NET 9.0  | 100   |  2.210 μs | 0.0273 μs | 0.0228 μs |  0.63 |    0.01 | 0.2937 | 0.0038 |    4.8 KB |        1.13 |
| UsingListAddRange   | .NET 9.0  | .NET 9.0  | 100   |  2.909 μs | 0.0259 μs | 0.0242 μs |  0.83 |    0.01 | 0.2975 |      - |   4.89 KB |        1.15 |
| UsingArrayWithIndex | .NET 9.0  | .NET 9.0  | 100   |  2.064 μs | 0.0141 μs | 0.0132 μs |  0.59 |    0.01 | 0.2403 |      - |   3.95 KB |        0.93 |
| UsingArrayCopyTo    | .NET 9.0  | .NET 9.0  | 100   |  2.178 μs | 0.0356 μs | 0.0333 μs |  0.62 |    0.01 | 0.2899 | 0.0038 |   4.76 KB |        1.12 |
| UsingSpanAndCopyTo  | .NET 9.0  | .NET 9.0  | 100   |  2.206 μs | 0.0311 μs | 0.0291 μs |  0.63 |    0.01 | 0.2403 |      - |   3.95 KB |        0.93 |
|                     |           |           |       |           |           |           |       |         |        |        |           |             |
| **UsingConcat**         | **.NET 10.0** | **.NET 10.0** | **1000**  | **33.227 μs** | **0.3776 μs** | **0.3532 μs** |  **1.00** |    **0.01** | **2.8076** | **0.1221** |  **46.44 KB** |        **1.00** |
| UsingAppend         | .NET 10.0 | .NET 10.0 | 1000  | 28.467 μs | 0.1467 μs | 0.1301 μs |  0.86 |    0.01 | 2.8381 | 0.4272 |  46.43 KB |        1.00 |
| UsingListAdd        | .NET 10.0 | .NET 10.0 | 1000  | 21.572 μs | 0.2284 μs | 0.2025 μs |  0.65 |    0.01 | 3.2959 | 0.5188 |  54.02 KB |        1.16 |
| UsingListAddRange   | .NET 10.0 | .NET 10.0 | 1000  | 27.889 μs | 0.1422 μs | 0.1188 μs |  0.84 |    0.01 | 3.2959 | 0.4578 |  54.11 KB |        1.17 |
| UsingArrayWithIndex | .NET 10.0 | .NET 10.0 | 1000  | 20.812 μs | 0.2266 μs | 0.2120 μs |  0.63 |    0.01 | 2.8076 | 0.3967 |  46.14 KB |        0.99 |
| UsingArrayCopyTo    | .NET 10.0 | .NET 10.0 | 1000  | 21.324 μs | 0.2557 μs | 0.2392 μs |  0.64 |    0.01 | 3.2959 | 0.4883 |  53.98 KB |        1.16 |
| UsingSpanAndCopyTo  | .NET 10.0 | .NET 10.0 | 1000  | 21.775 μs | 0.2811 μs | 0.2630 μs |  0.66 |    0.01 | 2.8076 | 0.3967 |  46.14 KB |        0.99 |
|                     |           |           |       |           |           |           |       |         |        |        |           |             |
| UsingConcat         | .NET 9.0  | .NET 9.0  | 1000  | 32.943 μs | 0.4489 μs | 0.3979 μs |  1.00 |    0.02 | 2.8076 | 0.1221 |  46.44 KB |        1.00 |
| UsingAppend         | .NET 9.0  | .NET 9.0  | 1000  | 28.791 μs | 0.2714 μs | 0.2406 μs |  0.87 |    0.01 | 2.8381 | 0.4272 |  46.43 KB |        1.00 |
| UsingListAdd        | .NET 9.0  | .NET 9.0  | 1000  | 21.607 μs | 0.2488 μs | 0.2205 μs |  0.66 |    0.01 | 3.2959 | 0.5188 |  54.02 KB |        1.16 |
| UsingListAddRange   | .NET 9.0  | .NET 9.0  | 1000  | 27.857 μs | 0.1916 μs | 0.1699 μs |  0.85 |    0.01 | 3.2959 | 0.4578 |  54.11 KB |        1.17 |
| UsingArrayWithIndex | .NET 9.0  | .NET 9.0  | 1000  | 21.083 μs | 0.2545 μs | 0.2381 μs |  0.64 |    0.01 | 2.8076 | 0.3967 |  46.14 KB |        0.99 |
| UsingArrayCopyTo    | .NET 9.0  | .NET 9.0  | 1000  | 21.633 μs | 0.3173 μs | 0.2968 μs |  0.66 |    0.01 | 3.2959 | 0.4883 |  53.98 KB |        1.16 |
| UsingSpanAndCopyTo  | .NET 9.0  | .NET 9.0  | 1000  | 21.714 μs | 0.2972 μs | 0.2780 μs |  0.66 |    0.01 | 2.8076 | 0.3967 |  46.14 KB |        0.99 |
