# Making HashSets



```

BenchmarkDotNet v0.15.2, Windows 11 (10.0.22631.6199/23H2/2023Update/SunValley3) (Hyper-V)
AMD EPYC 7763 2.44GHz, 1 CPU, 16 logical and 8 physical cores
.NET SDK 10.0.100
  [Host]     : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2
  DefaultJob : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2


```
| Method                                     | Count | Mean       | Error      | StdDev     | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated | Alloc Ratio |
|------------------------------------------- |------ |-----------:|-----------:|-----------:|------:|--------:|---------:|---------:|---------:|----------:|------------:|
| **NewHashSet**                                 | **100**   |   **1.958 μs** |  **0.0244 μs** |  **0.0228 μs** |  **1.00** |    **0.02** |   **0.1335** |        **-** |        **-** |   **2.24 KB** |        **1.00** |
| LinqToHashSet                              | 100   |   1.916 μs |  0.0251 μs |  0.0235 μs |  0.98 |    0.02 |   0.1335 |        - |        - |   2.24 KB |        1.00 |
| LinqToImmutableHashSet                     | 100   |   1.907 μs |  0.0288 μs |  0.0269 μs |  0.97 |    0.02 |   0.1335 |        - |        - |   2.24 KB |        1.00 |
| ManualAddViaLoop                           | 100   |   2.306 μs |  0.0277 μs |  0.0259 μs |  1.18 |    0.02 |   0.4387 |   0.0038 |        - |    7.2 KB |        3.21 |
| CollisionSafeImplementation                | 100   |   2.509 μs |  0.0244 μs |  0.0228 μs |  1.28 |    0.02 |   0.4387 |   0.0076 |        - |   7.23 KB |        3.22 |
| CollisionSafeImplementationWithExtraToList | 100   |   2.766 μs |  0.0317 μs |  0.0297 μs |  1.41 |    0.02 |   0.4921 |   0.0076 |        - |   8.06 KB |        3.60 |
|                                            |       |            |            |            |       |         |          |          |          |           |             |
| **NewHashSet**                                 | **10000** | **392.100 μs** |  **7.6606 μs** |  **7.8669 μs** |  **1.00** |    **0.03** |  **49.8047** |  **49.8047** |  **49.8047** | **197.49 KB** |        **1.00** |
| LinqToHashSet                              | 10000 | 396.129 μs |  1.7440 μs |  1.5460 μs |  1.01 |    0.02 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| LinqToImmutableHashSet                     | 10000 | 393.436 μs |  7.7204 μs | 15.0580 μs |  1.00 |    0.04 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| ManualAddViaLoop                           | 10000 | 555.118 μs | 10.8242 μs | 15.1741 μs |  1.42 |    0.05 | 124.0234 | 124.0234 | 124.0234 | 657.31 KB |        3.33 |
| CollisionSafeImplementation                | 10000 | 586.025 μs | 11.5438 μs | 12.3517 μs |  1.50 |    0.04 | 124.0234 | 124.0234 | 124.0234 | 657.34 KB |        3.33 |
| CollisionSafeImplementationWithExtraToList | 10000 | 602.912 μs | 12.0190 μs | 17.6173 μs |  1.54 |    0.05 | 124.0234 | 124.0234 | 124.0234 | 735.52 KB |        3.72 |
