# Making HashSets





```

BenchmarkDotNet v0.15.2, Windows 11 (10.0.22631.6199/23H2/2023Update/SunValley3) (Hyper-V)
AMD EPYC 7763 2.44GHz, 1 CPU, 16 logical and 8 physical cores
.NET SDK 10.0.100
  [Host]    : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2
  .NET 10.0 : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2
  .NET 9.0  : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2


```
| Method                                     | Job       | Runtime   | Count | Mean       | Error     | StdDev    | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated | Alloc Ratio |
|------------------------------------------- |---------- |---------- |------ |-----------:|----------:|----------:|------:|--------:|---------:|---------:|---------:|----------:|------------:|
| **NewHashSet**                                 | **.NET 10.0** | **.NET 10.0** | **100**   |   **1.937 μs** | **0.0141 μs** | **0.0132 μs** |  **1.00** |    **0.01** |   **0.1335** |        **-** |        **-** |   **2.24 KB** |        **1.00** |
| LinqToHashSet                              | .NET 10.0 | .NET 10.0 | 100   |   1.829 μs | 0.0089 μs | 0.0084 μs |  0.94 |    0.01 |   0.1354 |        - |        - |   2.24 KB |        1.00 |
| LinqToImmutableHashSet                     | .NET 10.0 | .NET 10.0 | 100   |   1.889 μs | 0.0125 μs | 0.0117 μs |  0.98 |    0.01 |   0.1354 |        - |        - |   2.24 KB |        1.00 |
| ManualAddViaLoop                           | .NET 10.0 | .NET 10.0 | 100   |   2.254 μs | 0.0177 μs | 0.0157 μs |  1.16 |    0.01 |   0.4387 |   0.0038 |        - |    7.2 KB |        3.21 |
| CollisionSafeImplementation                | .NET 10.0 | .NET 10.0 | 100   |   2.529 μs | 0.0163 μs | 0.0152 μs |  1.31 |    0.01 |   0.4387 |   0.0076 |        - |   7.23 KB |        3.22 |
| CollisionSafeImplementationWithExtraToList | .NET 10.0 | .NET 10.0 | 100   |   2.686 μs | 0.0340 μs | 0.0318 μs |  1.39 |    0.02 |   0.4921 |   0.0076 |        - |   8.06 KB |        3.60 |
|                                            |           |           |       |            |           |           |       |         |          |          |          |           |             |
| NewHashSet                                 | .NET 9.0  | .NET 9.0  | 100   |   1.871 μs | 0.0099 μs | 0.0092 μs |  1.00 |    0.01 |   0.1354 |        - |        - |   2.24 KB |        1.00 |
| LinqToHashSet                              | .NET 9.0  | .NET 9.0  | 100   |   1.875 μs | 0.0174 μs | 0.0163 μs |  1.00 |    0.01 |   0.1354 |        - |        - |   2.24 KB |        1.00 |
| LinqToImmutableHashSet                     | .NET 9.0  | .NET 9.0  | 100   |   1.888 μs | 0.0099 μs | 0.0088 μs |  1.01 |    0.01 |   0.1354 |        - |        - |   2.24 KB |        1.00 |
| ManualAddViaLoop                           | .NET 9.0  | .NET 9.0  | 100   |   2.268 μs | 0.0181 μs | 0.0169 μs |  1.21 |    0.01 |   0.4387 |   0.0038 |        - |    7.2 KB |        3.21 |
| CollisionSafeImplementation                | .NET 9.0  | .NET 9.0  | 100   |   2.592 μs | 0.0220 μs | 0.0206 μs |  1.39 |    0.01 |   0.4387 |   0.0076 |        - |   7.23 KB |        3.22 |
| CollisionSafeImplementationWithExtraToList | .NET 9.0  | .NET 9.0  | 100   |   2.665 μs | 0.0339 μs | 0.0317 μs |  1.42 |    0.02 |   0.4921 |   0.0076 |        - |   8.06 KB |        3.60 |
|                                            |           |           |       |            |           |           |       |         |          |          |          |           |             |
| **NewHashSet**                                 | **.NET 10.0** | **.NET 10.0** | **10000** | **340.554 μs** | **2.1314 μs** | **1.9937 μs** |  **1.00** |    **0.01** |  **49.8047** |  **49.8047** |  **49.8047** | **197.49 KB** |        **1.00** |
| LinqToHashSet                              | .NET 10.0 | .NET 10.0 | 10000 | 337.058 μs | 1.8029 μs | 1.5055 μs |  0.99 |    0.01 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| LinqToImmutableHashSet                     | .NET 10.0 | .NET 10.0 | 10000 | 342.862 μs | 1.7003 μs | 1.5905 μs |  1.01 |    0.01 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| ManualAddViaLoop                           | .NET 10.0 | .NET 10.0 | 10000 | 466.630 μs | 1.8933 μs | 1.6783 μs |  1.37 |    0.01 | 124.5117 | 124.5117 | 124.5117 | 657.31 KB |        3.33 |
| CollisionSafeImplementation                | .NET 10.0 | .NET 10.0 | 10000 | 490.245 μs | 2.4250 μs | 2.2684 μs |  1.44 |    0.01 | 124.5117 | 124.5117 | 124.5117 | 657.34 KB |        3.33 |
| CollisionSafeImplementationWithExtraToList | .NET 10.0 | .NET 10.0 | 10000 | 514.584 μs | 5.4701 μs | 5.1168 μs |  1.51 |    0.02 | 124.0234 | 124.0234 | 124.0234 | 735.52 KB |        3.72 |
|                                            |           |           |       |            |           |           |       |         |          |          |          |           |             |
| NewHashSet                                 | .NET 9.0  | .NET 9.0  | 10000 | 338.081 μs | 1.4395 μs | 1.2020 μs |  1.00 |    0.00 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| LinqToHashSet                              | .NET 9.0  | .NET 9.0  | 10000 | 342.697 μs | 1.3636 μs | 1.1387 μs |  1.01 |    0.00 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| LinqToImmutableHashSet                     | .NET 9.0  | .NET 9.0  | 10000 | 338.078 μs | 0.8216 μs | 0.7283 μs |  1.00 |    0.00 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| ManualAddViaLoop                           | .NET 9.0  | .NET 9.0  | 10000 | 472.559 μs | 2.2641 μs | 2.0070 μs |  1.40 |    0.01 | 124.5117 | 124.5117 | 124.5117 | 657.31 KB |        3.33 |
| CollisionSafeImplementation                | .NET 9.0  | .NET 9.0  | 10000 | 491.247 μs | 1.7763 μs | 1.5747 μs |  1.45 |    0.01 | 124.0234 | 124.0234 | 124.0234 | 657.34 KB |        3.33 |
| CollisionSafeImplementationWithExtraToList | .NET 9.0  | .NET 9.0  | 10000 | 506.779 μs | 2.4720 μs | 2.3123 μs |  1.50 |    0.01 | 124.0234 | 124.0234 | 124.0234 | 735.52 KB |        3.72 |
