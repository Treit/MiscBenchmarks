# Making HashSets




```

BenchmarkDotNet v0.15.2, Windows 11 (10.0.22631.6199/23H2/2023Update/SunValley3) (Hyper-V)
AMD EPYC 7763 2.44GHz, 1 CPU, 16 logical and 8 physical cores
.NET SDK 10.0.100
  [Host]     : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2
  DefaultJob : .NET 10.0.0 (10.0.25.52411), X64 RyuJIT AVX2


```
| Method                                     | Count | Mean       | Error     | StdDev    | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated | Alloc Ratio |
|------------------------------------------- |------ |-----------:|----------:|----------:|------:|--------:|---------:|---------:|---------:|----------:|------------:|
| **NewHashSet**                                 | **100**   |   **1.984 μs** | **0.0200 μs** | **0.0188 μs** |  **1.00** |    **0.01** |   **0.1335** |        **-** |        **-** |   **2.24 KB** |        **1.00** |
| LinqToHashSet                              | 100   |   2.032 μs | 0.0202 μs | 0.0179 μs |  1.02 |    0.01 |   0.1335 |        - |        - |   2.24 KB |        1.00 |
| LinqToImmutableHashSet                     | 100   |   1.932 μs | 0.0215 μs | 0.0202 μs |  0.97 |    0.01 |   0.1335 |        - |        - |   2.24 KB |        1.00 |
| ManualAddViaLoop                           | 100   |   2.319 μs | 0.0366 μs | 0.0342 μs |  1.17 |    0.02 |   0.4387 |   0.0038 |        - |    7.2 KB |        3.21 |
| CollisionSafeImplementation                | 100   |   2.616 μs | 0.0341 μs | 0.0302 μs |  1.32 |    0.02 |   0.4387 |   0.0076 |        - |   7.23 KB |        3.22 |
| CollisionSafeImplementationWithExtraToList | 100   |   2.721 μs | 0.0418 μs | 0.0391 μs |  1.37 |    0.02 |   0.4921 |   0.0076 |        - |   8.06 KB |        3.60 |
|                                            |       |            |           |           |       |         |          |          |          |           |             |
| **NewHashSet**                                 | **10000** | **348.724 μs** | **2.8631 μs** | **2.6781 μs** |  **1.00** |    **0.01** |  **49.8047** |  **49.8047** |  **49.8047** | **197.49 KB** |        **1.00** |
| LinqToHashSet                              | 10000 | 347.560 μs | 3.0270 μs | 2.8315 μs |  1.00 |    0.01 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| LinqToImmutableHashSet                     | 10000 | 345.855 μs | 5.6715 μs | 5.0277 μs |  0.99 |    0.02 |  49.8047 |  49.8047 |  49.8047 | 197.49 KB |        1.00 |
| ManualAddViaLoop                           | 10000 | 476.064 μs | 1.9424 μs | 1.7219 μs |  1.37 |    0.01 | 124.5117 | 124.5117 | 124.5117 | 657.31 KB |        3.33 |
| CollisionSafeImplementation                | 10000 | 502.954 μs | 5.1033 μs | 4.2615 μs |  1.44 |    0.02 | 124.0234 | 124.0234 | 124.0234 | 657.34 KB |        3.33 |
| CollisionSafeImplementationWithExtraToList | 10000 | 529.243 μs | 8.4904 μs | 7.9420 μs |  1.52 |    0.02 | 124.0234 | 124.0234 | 124.0234 | 735.52 KB |        3.72 |
